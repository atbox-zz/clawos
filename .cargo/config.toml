[build]
# Parallel builds for faster compilation
jobs = 4

# Use pipelined compilation for faster incremental builds
pipelining = true

[target.x86_64-unknown-linux-gnu]
# Use system linker for faster linking (disabled for CI compatibility)
# rustflags = ["-C", "link-arg=-fuse-ld=lld", "-C", "link-arg=-Wl,--as-needed"]

[target.aarch64-unknown-linux-gnu]
rustflags = [
  "-C", "linker=aarch64-linux-gnu-gcc",
  "-C", "link-arg=-Wl,--as-needed"
]

[profile.release]
# Optimize for size except for hot functions
opt-level = 3
lto = "fat"
codegen-units = 1
strip = "symbols"
panic = "abort"

[profile.dev]
# Faster incremental development
opt-level = 0
[profile.dev.package."*"]
# Optimize dependencies even in dev mode
opt-level = 3

[registries.crates-io]
protocol = "sparse"

[net]
git-fetch-with-cli = true

[env]

# Set proxy if needed
# proxy = "http://proxy.example.com:8080"
